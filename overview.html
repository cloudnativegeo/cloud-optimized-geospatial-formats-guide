<!DOCTYPE html>
<html lang="en"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.40">

  <meta name="author" content="Authors + Credits: Aimee Barciauskas, Alex Mandel, Brianna Pagán, Vincent Sarago, Chris Holmes, Patrick Quinn, Matt Hanson, Ryan Abernathey">
  <title>Cloud-Optimized Geospatial Formats Guide – Cloud-Optimized Geospatial Formats Overview</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto-fa3fd4bd02a140e59010a4776757eb52.css">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Cloud-Optimized Geospatial Formats Overview</h1>
  <p class="subtitle">These slides are a summarization of <a href="https://guide.cloudnativegeo.org/">Cloud-Optimized Geospatial Formats Guide</a> to support presentations.</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Authors + Credits: Aimee Barciauskas, Alex Mandel, Brianna Pagán, Vincent Sarago, Chris Holmes, Patrick Quinn, Matt Hanson, Ryan Abernathey 
</div>
</div>
</div>

</section>
<section class="slide level2">

<aside class="notes">
<p>These slides were generated with https://quarto.org/docs/presentations/revealjs. Source: https://github.com/cloudnativegeo/cloud-optimized-geospatial-formats-guide.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="cloud-optimized-geospatial-formats-overview" class="title-slide slide level1 center">
<h1>Cloud-Optimized Geospatial Formats Overview</h1>
<p>Google Slides version of this content: <a href="https://docs.google.com/presentation/d/1F89kcrtX9LNQPTOuwyL5FRex_8--Vlg-DA8GJNzWqGk/edit?usp=sharing">Cloud-Optimized Geospatial Formats</a>.</p>
</section>

<section id="what-makes-cloud-optimized-challenging" class="title-slide slide level1 incremental center">
<h1>What Makes Cloud-Optimized Challenging?</h1>
<ul>
<li class="fragment">No one size fits all approach</li>
<li class="fragment">Earth observation data may be processed into raster, vector and point cloud data types and stored in a long list of data formats and structures.</li>
<li class="fragment">Optimization depends on the user.</li>
<li class="fragment">Users must learn new tools and which data is accessed and how may differ depending on the user.</li>
<li class="fragment">… hopefully only a few new methods and concepts are necessary.</li>
</ul>
</section>

<section id="what-makes-cloud-optimized-challenging-1" class="title-slide slide level1 center">
<h1>What Makes Cloud-optimized Challenging?</h1>

<img data-src="./images/2019-points-lines-polygons.png" class="r-stretch"><p>image source: <a href="https://ui.josiahparry.com/spatial-analysis.html#types-of-spatial-data">ui.josiahparry.com/spatial-analysis.html</a></p>
</section>

<section id="what-makes-cloud-optimized-challenging-2" class="title-slide slide level1 center">
<h1>What Makes Cloud-optimized Challenging?</h1>
<div class="columns">
<div class="column" style="width:50%;">
<blockquote>
<p>There is no one-size-fits-all packaging for data, as the optimal packaging is highly use-case dependent.</p>
</blockquote>
<p><a href="https://ntrs.nasa.gov/citations/20200001178">Task 51 - Cloud-Optimized Format Study</a></p>
<p>Authors: Chris Durbin, Patrick Quinn, Dana Shum</p>
</div><div class="column" style="width:50%;">
<p><img data-src="./images/type-format-support-matrix.png"></p>
</div></div>
</section>

<section>
<section id="what-does-cloud-optimized-mean" class="title-slide slide level1 center">
<h1>What Does Cloud-Optimized Mean?</h1>
<p>File formats are read-oriented to support:</p>
<ul>
<li class="fragment">Partial reads</li>
<li class="fragment">Parallel reads</li>
</ul>
</section>
<section id="what-does-cloud-optimized-mean-1" class="slide level2">
<h2>What Does Cloud-Optimized Mean?</h2>
<ul>
<li class="fragment">File metadata in one read</li>
<li class="fragment">When accessing data over the internet, such as when data is in cloud storage, latency is high when compared with local storage so it is preferable to fetch lots of data in fewer reads.</li>
<li class="fragment">An easy win is metadata in one read, which can be used to read a cloud-native dataset.</li>
<li class="fragment">A cloud-native dataset is one with small addressable chunks via files, internal tiles, or both.</li>
</ul>
</section>
<section id="what-does-cloud-optimized-mean-2" class="slide level2">
<h2>What Does Cloud-Optimized Mean?</h2>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li class="fragment">Accessible over HTTP using range requests.</li>
<li class="fragment">This makes it compatible with object storage (a file storage alternative to local disk) and thus accessible via HTTP, from many compute instances.</li>
<li class="fragment">Supports lazy access and intelligent subsetting.</li>
<li class="fragment">Integrates with high-level analysis libraries and distributed frameworks.</li>
</ul>
</div><div class="column" style="width:40%;">
<p><img alt="higher level libraries" src="./images/higher-level-libraries.png"></p>
</div></div>

<aside><div>
<p>image credit: Ryan Abernathey</p>
</div></aside></section></section>
<section id="formats-by-data-type" class="title-slide slide level1 center">
<h1>Formats by Data Type</h1>
<table class="caption-top">
<colgroup>
<col style="width: 23%">
<col style="width: 30%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Format</th>
<th style="text-align: left;">Data Type</th>
<th style="text-align: left;">Standard Status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Cloud-Optimized GeoTIFF (COG)</td>
<td style="text-align: left;">Raster</td>
<td style="text-align: left;">OGC standard for comment</td>
</tr>
<tr class="even">
<td style="text-align: left;">Zarr, Kerchunk</td>
<td style="text-align: left;">Multi-dimensional raster</td>
<td style="text-align: left;">ESDIS and OGC standards in development</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cloud-Optimized Point Cloud (COPC), Entwine Point Tiles (EPT)</td>
<td style="text-align: left;">Point Clouds*</td>
<td style="text-align: left;">no known ESDIS or OGC standard</td>
</tr>
<tr class="even">
<td style="text-align: left;">FlatGeobuf, GeoParquet,</td>
<td style="text-align: left;">Vector</td>
<td style="text-align: left;">no known ESDIS, draft OGC standard</td>
</tr>
</tbody>
</table>
</section>

<section id="formats-by-adoption" class="title-slide slide level1 center">
<h1>Formats by Adoption</h1>
<table class="caption-top">
<colgroup>
<col style="width: 24%">
<col style="width: 27%">
<col style="width: 48%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Format</th>
<th style="text-align: left;">Adoption</th>
<th style="text-align: left;">Standard Status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Cloud-Optimized GeoTIFF (COG)</td>
<td style="text-align: left;">Widely adopted</td>
<td style="text-align: left;">OGC standard for comment</td>
</tr>
<tr class="even">
<td style="text-align: left;">Zarr, Kerchunk</td>
<td style="text-align: left;">(Less) widely adopted, especially in specific communities</td>
<td style="text-align: left;">ESDIS and OGC standards in development</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Entwine Point Tiles (EPT), Cloud-Optimized Point Cloud (COPC)</td>
<td style="text-align: left;">Less common (PDAL Supported)</td>
<td style="text-align: left;">no known ESDIS or OGC standard</td>
</tr>
<tr class="even">
<td style="text-align: left;">GeoParquet, FlatGeobuf</td>
<td style="text-align: left;">Less common (OGR Supported)</td>
<td style="text-align: left;">no known ESDIS, draft OGC standard</td>
</tr>
</tbody>
</table>
</section>

<section>
<section id="what-are-cogs" class="title-slide slide level1 center">
<h1>What are COGs?</h1>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li class="fragment">COGs are raster data representing a snapshot in time of gridded data, for example digital elevation models (DEMs).</li>
<li class="fragment">COGs are a de facto standard, with an Open Geospatial Consortium (OGC) standard under review.</li>
<li class="fragment">The standard specifies conformance to how the GeoTIFF is formatted, with additional requirements of tiling and overviews.</li>
</ul>
</div><div class="column" style="width:60%;">
<p><img data-src="./images/tile-diagram.png"></p>
</div></div>

<aside><div>
<p>image source: https://www.kitware.com/deciphering-cloud-optimized-geotiffs/</p>
</div></aside></section>
<section id="what-are-cogs-1" class="slide level2">
<h2>What are COGs?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li class="fragment">COGs have internal file directories (IFDs) which are used to tell clients where to find different overview levels and data within the file.</li>
<li class="fragment">Clients can use this metadata to read only the data they need to visualize or calculate.</li>
<li class="fragment">This internal organization is friendly for consumption by clients issuing HTTP GET range request (“bytes: start_offset-end_offset” HTTP header)</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="./images/cog-overviews.png"></p>
</div></div>

<aside><div>
<p>image source: https://medium.com/devseed/cog-talk-part-1-whats-new-941facbcd3d1</p>
</div></aside></section></section>
<section id="what-is-zarr" class="title-slide slide level1 center">
<h1>What is Zarr?</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li class="fragment">Zarr is used to represent multidimensional raster data or “data cubes”. For example, weather data and climate models.</li>
<li class="fragment">Chunked, compressed, N-dimensional arrays.</li>
<li class="fragment">The metadata is stored external to the data files themselves. The data itself is often reorganized and compressed into many files which can be accessed according to which chunks the user is interested in.</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="./images/xarray-datastructure.png"></p>
</div></div>

<aside><div>
<p>image source: https://xarray.dev/</p>
</div></aside></section>

<section>
<section id="what-is-kerchunk" class="title-slide slide level1 center">
<h1>What is Kerchunk?</h1>
<ul>
<li class="fragment">Kerchunk is a way to create Zarr metadata for archival formats, so that you can leverage the benefits of partial and parallel reads for archives in NetCDF4, HDF5, GRIB2, TIFF and FITS.</li>
</ul>
<div class="fragment">
<p><img src="./images/multi_refs.png" style="margin: 0px auto; display: block; width:700px;"></p>

</div>
<aside><div>
<p>image source: https://fsspec.github.io/kerchunk/detail.html</p>
</div></aside></section>
<section id="zarr-specs-in-development" class="slide level2">
<h2>Zarr Specs in Development</h2>
<ul>
<li class="fragment">V2 and older specs exist, however,</li>
<li class="fragment">A cross-organization working group has just formed to establish a GeoZarr standards working group, organized by Brianna Pagán (NASA) and includes representatives from many other orgs in the industry.</li>
<li class="fragment">The GeoZarr spec defines conventions for how geospatial data should be organized in a Zarr store. The spec details how the Zarr DataArray and DataSet metadata, and subsequent organization of data, must be in order to be conformant as GeoZarr archive.</li>
<li class="fragment">There is a proposal for Zarr v3 which will address challenges in language support, and storage organization to address the issues of high-latency reads and volume of reads for the many objects stored.</li>
<li class="fragment">There is recent work on a parquet alternative to JSON for indexing.</li>
</ul>
</section>
<section id="copc-cloud-optimized-point-clouds" class="slide level2">
<h2>COPC (Cloud-Optimized Point Clouds)</h2>
<p><img src="./images/copc-vlr-chunk-table-illustration.png" style="margin: 0px auto; display: block; width:900px;"></p>

<ul>
<li class="fragment">Point clouds are a set of data points in space, such as gathered from LiDAR measurements.</li>
<li class="fragment">COPC is a valid LAZ file.</li>
<li class="fragment">Similar to COGs but for point clouds: COPC is just one file, but data is reorganized into a clustered octree instead of regularly gridded overviews.</li>
<li class="fragment">2 key features:
<ul>
<li class="fragment">Support for partial decompression via storage of data in a series of chunks</li>
<li class="fragment">Variable-length records (VLRs) can store application-specific metadata of any kind. VLRs describe the octree structure.</li>
</ul></li>
<li class="fragment">Limitation: Not all attribute types are compatible.</li>
</ul>
<aside><div>
<p>image source: https://copc.io/</p>
</div></aside></section></section>
<section id="flatgeobuf" class="title-slide slide level1 smaller center">
<h1>FlatGeoBuf</h1>
<div class="columns">
<div class="column" style="width:60%;">
<p><img data-src="./images/fgb_diagram_2.png"></p>
</div><div class="column" style="width:40%;">
<ul>
<li class="fragment">Vector data is traditionally stored as rows representing points, lines, or polygons with an attribute table.</li>
<li class="fragment">FlatGeobuf is a binary encoding format for geographic data. Flatbuffers that hold a collection of Simple Features. Single-File.</li>
<li class="fragment">A row-based streamable-spatial index optimizes for remote reading.</li>
<li class="fragment">Developed with OGR compatibility in mind. Works with existing OGR APIs, e.g.&nbsp;python and R.</li>
<li class="fragment">Works with HTTP range requests, and has CDN compatibility.</li>
<li class="fragment">Limitation: Not compressed specifically to allow random reads.</li>
<li class="fragment">Learn more: <a href="https://github.com/flatgeobuf/flatgeobuf">https://github.com/flatgeobuf/flatgeobuf</a>, <a href="https://worace.works/2022/02/23/kicking-the-tires-flatgeobuf/">Kicking the Tires: Flatgeobuf</a></li>
</ul>
</div></div>

<aside><div>
<p>image source: https://worace.works/2022/02/23/kicking-the-tires-flatgeobuf/</p>
</div></aside></section>

<section id="geoparquet" class="title-slide slide level1 smaller center">
<h1>Geoparquet</h1>
<div class="columns">
<div class="column" style="width:50%;">
<p><img src="./images/gpq_query_window.png"></p>
</div><div class="column" style="width:50%;">
<ul>
<li class="fragment">Vector data is traditionally stored as rows representing points, lines, or polygons with an attribute table</li>
<li class="fragment">GeoParquet defines how to store vector data in Apache Parquet, which is a columnar storage format (like many cloud data warehouses). “Give me all points with height greater than 10m”.</li>
<li class="fragment">Highly compressed</li>
<li class="fragment">Single-file or multi-file</li>
<li class="fragment">Recent support added to geopandas as a distinct function, R support with geoarrow</li>
<li class="fragment">Potential for cross language in-memory shared access</li>
<li class="fragment">Specifications for spatial-indexing, projection handling, etc. are still in discussion</li>
<li class="fragment">Learn more: <a href="https://github.com/opengeospatial/geoparquet">https://github.com/opengeospatial/geoparquet</a></li>
</ul>
</div></div>
<p><br></p>

<aside><div>
<p>image source: https://www.wherobots.ai/post/spatial-data-parquet-and-apache-sedona</p>
</div></aside></section>

<section>
<section id="the-end" class="title-slide slide level1 center">
<h1>The End?</h1>
<p><a href="https://guide.cloudnativegeo.org/">Return to Cloud-Optimized Geospatial Formats Guide</a> or …</p>
</section>
<section id="not-quite" class="slide level2">
<h2>Not Quite</h2>
<ul>
<li class="fragment">These formats and their tooling are in active development</li>
<li class="fragment">Some formats were not mentioned, such as EPT, geopkg, tiledb, Cloud-Optimized HDF5. This presentation was scoped to those known best by the authors.</li>
<li class="fragment">This site will continue to be updated with new content.</li>
</ul>
</section></section>
<section id="references" class="title-slide slide level1 smaller center">
<h1>References</h1>
<div>
<p>Prior presentations and studies discussing multiple formats</p>
<ul>
<li><a href="https://ceos.org/document_management/Working_Groups/WGISS/Meetings/WGISS-49/2.%20Wednesday%20April%2022/20200422T1330_Cloud%20Optimized%20Data%20Formats_.pdf">Cloud Optimized Data Formats</a> Task 51 Study presentation slides
<ul>
<li><a href="https://ntrs.nasa.gov/citations/20200001178">https://ntrs.nasa.gov/citations/20200001178</a> paper</li>
</ul></li>
<li><a href="https://paper.dropbox.com/doc/COG-and-Zarr-for-Geospatial-Data--BxJTwISajTC1Yk3wzzw_iEKOAg-NTY7c2dmGxr96D0MDdxf6">COG and Zarr for Geospatial Data</a> - draft white paper by Vincent and Ryan</li>
<li><a href="https://docs.google.com/document/d/1rBRr4xcz2NH3JXS0Y8wNEqvd2-pzVw23_p2NV3jKnlM/edit?usp=sharing">Guide for Generating and Using Cloud Optimized GeoTIFFs</a></li>
<li><a href="https://docs.google.com/presentation/d/1737SXcWC7XgFpOG2Y0AeaWqdDbc-rjxn6e2L8avcMO4/edit#slide=id.g13eebffd241_0_654">What is Analysis Ready Cloud Optimized data and Why Does it Matter? for NOAA EDMW Sept 15, 2022</a> - previous presentation on this topic</li>
<li><a href="https://docs.google.com/presentation/d/1r6BZgwLowP9PN4wSDLlxRMFMXFCYk6XC/edit#slide=id.p12">Brianna-ESIP-2022.pptx</a> - previous presentation on this topic</li>
<li><a href="https://cholmes.medium.com/an-overview-of-cloud-native-vector-c223845638e0">An Exploration of ‘Cloud-Native Vector’ | by Chris Holmes</a></li>
</ul>
<p>Format Homepages and Explainers</p>
<ul>
<li><a href="https://flatgeobuf.org/">https://flatgeobuf.org/</a> - links to some example notebooks and provides the specification</li>
<li><a href="https://matthewrocklin.com/blog/work/2018/02/06/hdf-in-the-cloud">HDF in the Cloud challenges and solutions for scientific data</a> - Matthew Rocklin’s discussion about HDF in the cloud</li>
<li><a href="https://copc.io/">https://copc.io/</a> - Cloud-Optimized Point Cloud home page + explainer</li>
<li><a href="https://lidarmag.com/2021/12/27/cloud-native-geospatial-lidar-with-the-cloud-optimized-point-cloud/">Cloud Native Geospatial Lidar with the Cloud Optimized Point Cloud - LIDAR Magazine</a> - Howard Butler explains COPC in lidarmag</li>
<li><a href="https://worace.works/2022/02/23/kicking-the-tires-flatgeobuf/">Kicking the Tires: Flatgeobuf</a> - Flatgeobuf Blog by Horace Williams</li>
</ul>
</div>


</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/guide\.cloudnativegeo\.org");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>